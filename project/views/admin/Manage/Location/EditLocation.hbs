<div class="content-wrapper">
    <div class="container-fluid">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/admin/managelocations">Quản lý địa điểm</a></li>
            <li class="breadcrumb-item active">Sửa địa điểm</li>
        </ol>

        <div class="container mt-4" style="max-width: 800px;">
            <div class="card shadow-sm">
                <div class="card-body">
                    <form action="/admin/editlocation/{{location.ma_dia_diem}}" method="POST" enctype="multipart/form-data">

                        <div class="mb-3">
                            <label class="form-label fw-bold">Tên địa điểm</label>
                            <input type="text" class="form-control" name="ten_dia_diem" value="{{location.ten_dia_diem}}" required>
                        </div>

                        <div class="mb-3">
                            <label class="form-label fw-bold">Mô tả chi tiết</label>
                            <textarea class="form-control" name="mo_ta" rows="5">{{location.mota}}</textarea>
                        </div>

                        <div class="mb-4 p-3 border rounded bg-light">
                            <label class="form-label fw-bold">Ảnh bìa hiện tại</label>
                            <div class="mb-2">
                                <img src="/uploads/{{location.hinhdaidien}}" alt="Ảnh bìa" style="height: 150px; object-fit: cover; border-radius: 5px;">
                            </div>

                            <label class="form-label mt-2">Đổi ảnh bìa mới (Nếu không đổi thì để trống)</label>
                            <input type="file" class="form-control" name="hinh_anh_bia" accept="image/*">
                        </div>

                        <div class="mb-4 p-3 border rounded bg-light">
                            <label class="form-label fw-bold d-block">Album ảnh hiện có</label>
                            <div class="row">
                                {{#each album}}
                                    <div class="col-md-3 mb-3 text-center">
                                        <div class="position-relative">
                                            <img src="/uploads/{{this.duong_dan}}" style="width: 100%; height: 100px; object-fit: cover; border-radius: 5px;">
                                            <div class="mt-1">
                                                <input type="checkbox" name="delete_images[]" value="{{this.ma_hinh}}" id="img_{{this.ma_hinh}}">
                                                <label for="img_{{this.ma_hinh}}" class="text-danger small" style="cursor: pointer;">Xóa ảnh này</label>
                                            </div>
                                        </div>
                                    </div>
                                {{/each}}
                            </div>

                            <label class="form-label fw-bold mt-3">Thêm ảnh vào Album</label>
                            <input type="file" class="form-control" name="album" multiple accept="image/*">
                            <div class="form-text">Giữ phím <strong>Ctrl</strong> để chọn nhiều ảnh.</div>
                        </div>

                        <div class="mt-3">
                            <button type="submit" class="btn btn-primary px-4">Cập nhật</button>
                            <a href="/admin/managelocations" class="btn btn-secondary ms-2">Hủy</a>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>