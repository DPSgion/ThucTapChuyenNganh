
<style>
    /* Form container */
    .form-tao-tour {
        max-width: 900px;
        margin: 0 auto 40px auto; /* căn giữa trang, margin dưới */
        padding: 30px 40px;
        border-radius: 10px;
        background-color: #fff;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        font-family: Arial, sans-serif;
    }

    h1 {
        text-align: center;
        margin-bottom: 30px;
        font-size: 28px;
        color: #333;
    }

    .form-row {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        margin-bottom: 18px;
    }

    .form-row p {
        width: 150px;
        margin: 0;
        font-weight: 500;
    }

    input[type="text"],
    input[type="number"],
    input[type="date"],
    select,
    textarea,
    input[type="file"] {
        flex: 1;
        padding: 8px 10px;
        border-radius: 6px;
        border: 1px solid #ccc;
        font-size: 14px;
    }

    textarea {
        resize: vertical;
        min-height: 80px;
    }

    /* Thông tin chung */
    .ttcb {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-bottom: 25px;
    }

    .ttcbTrai,
    .ttcbPhai {
        flex: 1;
        min-width: 280px;
    }

    .tour-duration {
        display: flex;
        align-items: flex-start;
        flex-wrap: wrap;
        margin-bottom: 20px;
        gap: 20px;
    }

    .form-to-date {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
    }

    .gia-ve {
        margin-bottom: 25px;
    }

    .gia-ve-title {
        font-weight: bold;
        margin-bottom: 10px;
    }

    .loai-ve {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .loai-ve .form-row {
        display: flex;
        align-items: center;
        /*gap: 10px;*/
    }

    .loai-ve label {
        width: 150px;
        font-weight: 500;
    }

    .loai-ve input[type="number"] {
        flex: 1;
        border-radius: 6px;
        border: 1px solid #ccc;

        max-width: 200px;
    }

    .unit {
        min-width: 40px;
        margin-left: 10px;
    }

    .soluong input[type="number"] {
        max-width: 200px;
    }


    .btn-choice {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 30px;
    }

    .btn-huy {
        padding: 10px 20px;
        border: 1px solid red;
        background: #fff;
        cursor: pointer;
        border-radius: 6px;
        font-weight: bold;
        transition: all 0.2s ease;
    }

    .btn-huy:hover {
        background-color: #ffe6e6;
    }

    .btn-submit input[type="submit"] {
        padding: 10px 25px;
        border-radius: 6px;
        border: none;
        background: #28a745;
        color: white;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.2s ease;
    }

    .btn-submit input[type="submit"]:hover {
        background-color: #218838;
    }

    .motangan textarea {
        width: 100%;
        max-width: 100%;
    }

    .motachitiet textarea {
        width: 100%;
        max-width: 100%;
        min-height: 200px;
    }

    /* Responsive */
    @media (max-width: 768px) {
        .form-row p {
            width: 100%;
            margin-bottom: 5px;
        }

        .ttcb {
            flex-direction: column;
        }

        .tour-duration {
            flex-direction: column;
        }

        .loai-ve .form-row {
            flex-direction: column;
            align-items: flex-start;
        }
        .loai-ve label {
            width: auto;
        }
        .unit {
            margin-top: 4px;
        }
    }
</style>



<div class="content-wrapper">
    <div class="container-fluid">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="/admin/managetour">Quản lý tour</a>
            </li>
            <li class="breadcrumb-item active">Thêm tour</li>
        </ol>

<!--        enctype="multipart/form-data"-->
        <form   action="/admin/addtour" method="post"
                class="form-tao-tour" id="tourForm" enctype="multipart/form-data">
            <h1>TẠO TOUR</h1>

            <div class="ttcb">
                <div class="ttcbTrai">
                    <div class="form-row">
                        <p>Mã tour</p>
                        <input type="text" name="matour"/>
                    </div>
                    <div class="form-row">
                        <p>Tên tour</p>
                        <input type="text" name="tentour"/>
                    </div>
                </div>

                <div class="ttcbPhai">
                    <div class="form-row">
                        <p>Điểm đi:</p>
                        <select name="diemdi">
                            <option value="">Chọn nơi đi</option>
                            <option value="tphcm">TP.Hồ Chí Minh</option>
                            <option value="bentre">Bến Tre</option>
                            <option value="dalat">Đà Lạt</option>
                            <option value="vungtau">Vũng Tàu</option>
                            <option value="phanthiet">Phan Thiết</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <p>Điểm đến:</p>
                        <select name="diemden">
                            <option value="">Chọn nơi đến</option>
                            <option value="tphcm">TP.Hồ Chí Minh</option>
                            <option value="bentre">Bến Tre</option>
                            <option value="dalat">Đà Lạt</option>
                            <option value="vungtau">Vũng Tàu</option>
                            <option value="phanthiet">Phan Thiết</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="form-row">
                <p>Loại tour</p>
                <select name="loaitour">
                    <option value="">Chọn loại tour</option>
                    <option value="nghiduong">Nghỉ dưỡng</option>
                    <option value="dulich">Du lịch</option>
                </select>
            </div>

            <div class="form-row">
                <p>Hình đại diện</p>
                <input type="file" name="hinhdaidien"/>
            </div>

<!--            <div class="form-row">-->
<!--                <p>Album hình</p>-->
<!--                <input type="file" name="albumhinh" multiple/>-->
<!--            </div>-->

            <div class="form-row motangan">
                <p>Mô tả ngắn</p>
                <textarea name="motangan" maxlength="200" style="width:300px; height:100px;"></textarea>
            </div>

            <div class="form-row motachitiet">
                <p>Mô tả chi tiết</p>
                <textarea name="motachitiet" maxlength="500" style="width:700px; height:300px;"></textarea>
            </div>

            <div class="tour-duration">
                <div class="form-to-date">
                    <div class="form-row">
                        <p>Đi từ ngày</p>
                        <input type="date" name="ngaydi" id="ngaydi" min="">
                    </div>
                    <div class="form-row">
                        <p>Đến ngày</p>
                        <input type="date" name="ngayve" id="ngayve" min="">
                    </div>
                </div>
                <div class="form-row">
                    <p>Thời lượng:</p>
                    <p id="duration"></p>
                </div>
            </div>

            <div class="gia-ve">
                <p class="gia-ve-title">Giá vé</p>
                <div class="loai-ve">
                    <div class="form-row">
                        <label for="giavenguoilon">Người lớn:</label>
                        <input type="number" name="giavenguoilon" id="giavenguoilon" placeholder="Nhập giá vé người lớn">
                        <span class="unit">VNĐ</span>
                    </div>
                    <div class="form-row">
                        <label for="giavetreem">Trẻ em:</label>
                        <input type="number" name="giavetreem" id="giavetreem" placeholder="Nhập giá vé trẻ em">
                        <span class="unit">VNĐ</span>
                    </div>
                </div>
            </div>

            <div class="form-row soluong">
                <p>Số lượng:</p>
                <input type="number" name="soluong"/>
            </div>

            <div class="btn-choice">
                <button type="button" class="btn-huy" onclick="window.location.href='/admin/managetour'">Hủy</button>
                <div class="btn-submit">
                    <input type="submit" value="Tạo">
                </div>
            </div>
        </form>
    </div>
</div>

<script>
    // Đặt minDate cho ngày bắt đầu là hôm nay
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('ngaydi').setAttribute('min', today);

    const ngayDiInput = document.getElementById('ngaydi');
    const ngayVeInput = document.getElementById('ngayve');
    const durationP = document.getElementById('duration');

    ngayDiInput.addEventListener('change', () => {
        const startDate = new Date(ngayDiInput.value);
        // đặt minDate cho ngày về là ngày sau ngày đi
        const minReturn = new Date(startDate);
        minReturn.setDate(minReturn.getDate() + 1);
        ngayVeInput.min = minReturn.toISOString().split('T')[0];

        // reset ngày về nếu nhỏ hơn ngày đi
        if (ngayVeInput.value && new Date(ngayVeInput.value) <= startDate) {
            ngayVeInput.value = '';
            durationP.textContent = '';
        } else {
            calculateDuration();
        }
    });

    ngayVeInput.addEventListener('change', calculateDuration);

    function calculateDuration() {
        const start = new Date(ngayDiInput.value);
        const end = new Date(ngayVeInput.value);
        if (start && end && end > start) {
            const diffTime = end - start;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            durationP.textContent = diffDays + " ngày";
        } else {
            durationP.textContent = '';
        }
    }
</script>
</body>
</html>
